<html>
  <head>
    <script src="/socket"></script> 
  </head>
  <body>
    <canvas id="canvas" width="640" height="480" style="background-color: black">
    </canvas>
    
    <script>
      const canvasWidth = 640;
      const canvasHeight = 480;
      
      var canvas = document.getElementById('canvas');
      var ctx = canvas.getContext('2d');
      
      setTimeout(()=>{
        var socket = io();
        socket.on('positions', function(event) {
          for (entity of event.entities){
            ctx.clearRect(0,0,canvasWidth,canvasHeight);
            ctx.fillStyle = entity.visual.color;
            ctx.fillRect(entity.position.x, entity.position.y, entity.visual.size, entity.visual.size);
          }
        });
      }, 1000);

      
      
    </script>
  </body>
</html> 